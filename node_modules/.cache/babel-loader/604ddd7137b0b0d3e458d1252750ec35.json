{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0415\\u0433\\u043E\\u0440\\\\Desktop\\\\player\\\\src\\\\components\\\\audioPlayer\\\\player.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport PlayerContext from './provider/context';\nimport AudioDriver from './drive';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Player = () => {\n  _s();\n\n  const {\n    audioFile\n  } = useContext(PlayerContext);\n  const [driver, setDriver] = useState();\n  const [duretion, setDuration] = useState();\n  useEffect(() => {\n    if (!audioFile) {\n      return;\n    }\n\n    const init = async () => {\n      const audioDriver = new AudioDriver(audioFile);\n      audioDriver.init().then(() => {\n        setDriver(audioDriver);\n      }).then(() => {\n        console.log(setDuration(driver === null || driver === void 0 ? void 0 : driver.getDuretion()));\n      });\n      console.log(duretion);\n    };\n\n    init();\n  }, [audioFile]);\n  useEffect(() => {}, [driver]);\n  const play = useCallback(() => {\n    console.log();\n    driver === null || driver === void 0 ? void 0 : driver.play();\n  }, [driver]);\n  const pause = useCallback(() => {\n    driver === null || driver === void 0 ? void 0 : driver.pause();\n  }, [driver]);\n  const stop = useCallback(() => {\n    driver === null || driver === void 0 ? void 0 : driver.pause(true);\n  }, [driver]);\n  const onVolumeChange = useCallback(event => {\n    driver === null || driver === void 0 ? void 0 : driver.changeVolume(Number(event.target.value));\n  }, [driver]);\n  const onChengeSoubndTime = useCallback(e => {\n    console.log(driver === null || driver === void 0 ? void 0 : driver.getDuretion());\n  }, [driver]);\n\n  if (!audioFile) {\n    return null;\n  }\n\n  if (!driver) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'player',\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: play,\n      children: \"Play\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: pause,\n      children: \"Pause\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: stop,\n      children: \"Stop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      onChange: onVolumeChange,\n      defaultValue: 1,\n      min: -1,\n      max: 1,\n      step: 0.01\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      onChange: onChengeSoubndTime,\n      defaultValue: 1,\n      min: 0,\n      max: driver === null || driver === void 0 ? void 0 : driver.getDuretion(),\n      step: 0.01\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Player, \"QrpjeGjurTBS5jpn1TgFBeNb1Yo=\");\n\n_c = Player;\nexport default Player;\n\nvar _c;\n\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useState","PlayerContext","AudioDriver","Player","audioFile","driver","setDriver","duretion","setDuration","init","audioDriver","then","console","log","getDuretion","play","pause","stop","onVolumeChange","event","changeVolume","Number","target","value","onChengeSoubndTime","e"],"sources":["C:/Users/Егор/Desktop/player/src/components/audioPlayer/player.tsx"],"sourcesContent":["import React, { ChangeEvent, useCallback, useContext, useEffect, useState } from 'react';\nimport PlayerContext from './provider/context';\nimport AudioDriver from './drive';\n\nconst Player = () => {\n  const {audioFile} = useContext<any>(PlayerContext);\n  const [driver, setDriver] = useState<AudioDriver>();\n  const [duretion,setDuration] = useState<any>()\n  useEffect(() => {\n    if (!audioFile) {\n      return;\n    }\n\n    const init = async () => {\n      const audioDriver = new AudioDriver(audioFile);\n      audioDriver.init()\n        .then(() => {\n          setDriver(audioDriver)\n        })\n        .then(()=>{\n          console.log(setDuration(driver?.getDuretion()))\n        })\n        console.log(duretion)\n    };\n\n    init();\n  }, [audioFile]);\n\n  useEffect(()=>{\n    \n  },[driver])\n\n  const play = useCallback(() => {\n    console.log()\n    driver?.play();\n  }, [driver]);\n\n  const pause = useCallback(() => {\n    driver?.pause();\n  }, [driver]);\n\n  const stop = useCallback(() => {\n    driver?.pause(true);\n  }, [driver]);\n\n  const onVolumeChange = useCallback((event: ChangeEvent<HTMLInputElement>) => {\n    driver?.changeVolume(Number(event.target.value));\n  }, [driver]);\n\n  const onChengeSoubndTime = useCallback((e:any)=>{\n    console.log(driver?.getDuretion())\n  },[driver])\n\n  if (!audioFile) {\n    return null;\n  }\n\n  if (!driver) {\n    return <div>Loading</div>\n  }\n\n  \n  return (\n    <div className={'player'}>\n      <button onClick={play}>\n        Play\n      </button>\n\n      <button onClick={pause}>\n        Pause\n      </button>\n\n      <button onClick={stop}>\n        Stop\n      </button>\n\n      <input\n        type=\"range\"\n        onChange={onVolumeChange}\n        defaultValue={1}\n        min={-1}\n        max={1}\n        step={0.01}\n      />\n\n        <input\n        type=\"range\"\n        onChange={onChengeSoubndTime}\n        defaultValue={1}\n        min={0}\n        max={driver?.getDuretion()}\n        step={0.01}\n      />\n    </div>\n  );\n};\n\nexport default Player;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}