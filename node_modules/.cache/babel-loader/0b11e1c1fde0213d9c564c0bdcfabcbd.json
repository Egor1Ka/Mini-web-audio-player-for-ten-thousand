{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0415\\u0433\\u043E\\u0440\\\\Desktop\\\\player\\\\src\\\\components\\\\audioPlayer\\\\player.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport PlayerContext from './provider/context';\nimport AudioDriver from './drive';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Player = () => {\n  _s();\n\n  const {\n    audioFile\n  } = useContext(PlayerContext);\n  const [driver, setDriver] = useState();\n  useEffect(() => {\n    if (!audioFile) {\n      return;\n    }\n\n    const init = async () => {\n      const audioDriver = new AudioDriver(audioFile);\n      audioDriver.init().then(() => setDriver(audioDriver));\n    };\n\n    init();\n  }, [audioFile]);\n  const play = useCallback(() => {\n    driver === null || driver === void 0 ? void 0 : driver.play();\n  }, [driver]);\n  const pause = useCallback(() => {\n    driver === null || driver === void 0 ? void 0 : driver.pause();\n  }, [driver]);\n  const stop = useCallback(() => {\n    driver === null || driver === void 0 ? void 0 : driver.pause(true);\n  }, [driver]);\n  const onVolumeChange = useCallback(event => {\n    driver === null || driver === void 0 ? void 0 : driver.changeVolume(Number(event.target.value));\n  }, [driver]);\n  const onChengeSongTime = useCallback(() => {}, [driver]);\n\n  if (!audioFile) {\n    return null;\n  }\n\n  if (!driver) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'player',\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: play,\n      children: \"Play\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: pause,\n      children: \"Pause\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: stop,\n      children: \"Stop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      onChange: onVolumeChange,\n      defaultValue: 1,\n      min: -1,\n      max: 1,\n      step: 0.01\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      onChange: onChengeSongTime,\n      defaultValue: 1,\n      min: -1,\n      max: 1,\n      step: 0.01\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Player, \"1s2e6X7jb/3etOIa0ZZghBjVXwA=\");\n\n_c = Player;\nexport default Player;\n\nvar _c;\n\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useState","PlayerContext","AudioDriver","Player","audioFile","driver","setDriver","init","audioDriver","then","play","pause","stop","onVolumeChange","event","changeVolume","Number","target","value","onChengeSongTime"],"sources":["C:/Users/Егор/Desktop/player/src/components/audioPlayer/player.tsx"],"sourcesContent":["import React, { ChangeEvent, useCallback, useContext, useEffect, useState } from 'react';\nimport PlayerContext from './provider/context';\nimport AudioDriver from './drive';\n\nconst Player = () => {\n  const {audioFile} = useContext<any>(PlayerContext);\n  const [driver, setDriver] = useState<AudioDriver>();\n\n  useEffect(() => {\n    if (!audioFile) {\n      return;\n    }\n\n    const init = async () => {\n      const audioDriver = new AudioDriver(audioFile);\n      audioDriver.init()\n        .then(() => setDriver(audioDriver));\n    };\n\n    init();\n  }, [audioFile]);\n\n  const play = useCallback(() => {\n    driver?.play();\n  }, [driver]);\n\n  const pause = useCallback(() => {\n    driver?.pause();\n  }, [driver]);\n\n  const stop = useCallback(() => {\n    driver?.pause(true);\n  }, [driver]);\n\n  const onVolumeChange = useCallback((event: ChangeEvent<HTMLInputElement>) => {\n    driver?.changeVolume(Number(event.target.value));\n  }, [driver]);\n\n  const onChengeSongTime = useCallback(()=>{\n    \n  },[driver])\n\n  if (!audioFile) {\n    return null;\n  }\n\n  if (!driver) {\n    return <div>Loading</div>\n  }\n\n  \n  return (\n    <div className={'player'}>\n      <button onClick={play}>\n        Play\n      </button>\n\n      <button onClick={pause}>\n        Pause\n      </button>\n\n      <button onClick={stop}>\n        Stop\n      </button>\n\n      <input\n        type=\"range\"\n        onChange={onVolumeChange}\n        defaultValue={1}\n        min={-1}\n        max={1}\n        step={0.01}\n      />\n\n        <input\n        type=\"range\"\n        onChange={onChengeSongTime}\n        defaultValue={1}\n        min={-1}\n        max={1}\n        step={0.01}\n      />\n    </div>\n  );\n};\n\nexport default Player;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAA6BC,WAA7B,EAA0CC,UAA1C,EAAsDC,SAAtD,EAAiEC,QAAjE,QAAiF,OAAjF;AACA,OAAOC,aAAP,MAA0B,oBAA1B;AACA,OAAOC,WAAP,MAAwB,SAAxB;;;AAEA,MAAMC,MAAM,GAAG,MAAM;EAAA;;EACnB,MAAM;IAACC;EAAD,IAAcN,UAAU,CAAMG,aAAN,CAA9B;EACA,MAAM,CAACI,MAAD,EAASC,SAAT,IAAsBN,QAAQ,EAApC;EAEAD,SAAS,CAAC,MAAM;IACd,IAAI,CAACK,SAAL,EAAgB;MACd;IACD;;IAED,MAAMG,IAAI,GAAG,YAAY;MACvB,MAAMC,WAAW,GAAG,IAAIN,WAAJ,CAAgBE,SAAhB,CAApB;MACAI,WAAW,CAACD,IAAZ,GACGE,IADH,CACQ,MAAMH,SAAS,CAACE,WAAD,CADvB;IAED,CAJD;;IAMAD,IAAI;EACL,CAZQ,EAYN,CAACH,SAAD,CAZM,CAAT;EAcA,MAAMM,IAAI,GAAGb,WAAW,CAAC,MAAM;IAC7BQ,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEK,IAAR;EACD,CAFuB,EAErB,CAACL,MAAD,CAFqB,CAAxB;EAIA,MAAMM,KAAK,GAAGd,WAAW,CAAC,MAAM;IAC9BQ,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEM,KAAR;EACD,CAFwB,EAEtB,CAACN,MAAD,CAFsB,CAAzB;EAIA,MAAMO,IAAI,GAAGf,WAAW,CAAC,MAAM;IAC7BQ,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEM,KAAR,CAAc,IAAd;EACD,CAFuB,EAErB,CAACN,MAAD,CAFqB,CAAxB;EAIA,MAAMQ,cAAc,GAAGhB,WAAW,CAAEiB,KAAD,IAA0C;IAC3ET,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEU,YAAR,CAAqBC,MAAM,CAACF,KAAK,CAACG,MAAN,CAAaC,KAAd,CAA3B;EACD,CAFiC,EAE/B,CAACb,MAAD,CAF+B,CAAlC;EAIA,MAAMc,gBAAgB,GAAGtB,WAAW,CAAC,MAAI,CAExC,CAFmC,EAElC,CAACQ,MAAD,CAFkC,CAApC;;EAIA,IAAI,CAACD,SAAL,EAAgB;IACd,OAAO,IAAP;EACD;;EAED,IAAI,CAACC,MAAL,EAAa;IACX,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EAGD,oBACE;IAAK,SAAS,EAAE,QAAhB;IAAA,wBACE;MAAQ,OAAO,EAAEK,IAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAKE;MAAQ,OAAO,EAAEC,KAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QALF,eASE;MAAQ,OAAO,EAAEC,IAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QATF,eAaE;MACE,IAAI,EAAC,OADP;MAEE,QAAQ,EAAEC,cAFZ;MAGE,YAAY,EAAE,CAHhB;MAIE,GAAG,EAAE,CAAC,CAJR;MAKE,GAAG,EAAE,CALP;MAME,IAAI,EAAE;IANR;MAAA;MAAA;MAAA;IAAA,QAbF,eAsBI;MACA,IAAI,EAAC,OADL;MAEA,QAAQ,EAAEM,gBAFV;MAGA,YAAY,EAAE,CAHd;MAIA,GAAG,EAAE,CAAC,CAJN;MAKA,GAAG,EAAE,CALL;MAMA,IAAI,EAAE;IANN;MAAA;MAAA;MAAA;IAAA,QAtBJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAiCD,CAhFD;;GAAMhB,M;;KAAAA,M;AAkFN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}